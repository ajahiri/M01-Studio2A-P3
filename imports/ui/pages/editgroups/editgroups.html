<template name='App_editgroups'>

  <!-- STUDENT ANSWER MODAL -->
  <div class="modal fade" id="studentAnswerModal" tabindex="-1" role="dialog" aria-labelledby="studentAnswerModal" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        {{#with studentAnswer}}
          <div class="modal-header">
            <h3 class="modal-title" id="exampleModalLabel">Student Result</h3>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <h6>Metadata:</h6>
            <p>Associated Project ID: {{associatedProject}}</p>
            <p>Student Name: {{fullName}}</p>
            <p>Student Contact Email: {{contactEmail}}</p>
            <p>Result ID: {{_id}}</p>
            <p>Date Submitted: {{createdAt}}</p>
            <table class="table table-hover">
              <thead>
                <tr>
                  <th scope="col">Question</th>
                  <th scope="col">Weighting</th>
                  <th scope="col">Answer</th>
                </tr>
              </thead>
              <tbody>
                {{#each answers}}
                <tr>
                  <td>{{question}}</td>
                  <td>{{weight}}</td>
                  <td>{{answer}}</td>
                </tr>
                {{/each}}
              </tbody>
            </table>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          </div>
        {{/with}}
      </div>
    </div>
  </div>

  <div class="mx-auto" style="">
    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-12 d-flex  text-left projectText">
          <span class="border-0" style="background-color: #FFF; ">
            <span style=" background-color: #333; " class="d-block p-3 newProjectTitle">"{{currentProject.projName}}"
              Groups</span>
            <div style="padding: 4rem;">
              <p>Allocation method: {{currentProject.allocationType}}</p>
              <form style="padding-bottom: 2rem;">
                <div class="form-group row">
                  <label class="col-sm-9  projectText col-form-label">No. of students in a group</label>
                  <div class="dropdown col-md-3">
                    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      2
                    </button>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                      <a class="dropdown-item" href="#">3</a>
                      <a class="dropdown-item" href="#">4</a>
                      <a class="dropdown-item" href="#">5</a>
                      <a class="dropdown-item" href="#">6</a>
                      <a class="dropdown-item" href="#">7</a>
                      <a class="dropdown-item" href="#">8</a>
                      <a class="dropdown-item" href="#">9</a>
                      <a class="dropdown-item" href="#">10</a>
                    </div>
                  </div>
                </div>
              </form>
              <h4 class="font-weight-light">Student Results</h4>
              <p style="padding-top: 1rem;" class="font-weight-lighter">
                Below are the students that have completed the survey for this project. 
                You may see each students results or generate the groups, student groupings can be edited using the dropdowns below.
              </p>


              <table class="table table-hover">
                <thead class="thead-dark">
                  <tr>
                    <th scope="col">Result ID</th>
                    <th scope="col">Assigned Group</th>
                    <th scope="col">Student Name</th>
                    <th scope="col">Contact Email</th>
                    <th scope="col">See Answers</th>
                  </tr>
                </thead>
                <tbody>
                  {{#each studentResults}}
                    <tr>
                      <td>{{_id}}</td>
                      <th scope="row">
                        <div class="dropdown">
                          <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown">Group 1
                            <span class="caret"></span></button>
                          <ul class="dropdown-menu">
                            <li style="color:black"><a>Group1</a></li>
                            <li style="color:black"><a>Group2</a></li>
                            <li style="color:black"><a>Group3</a></li>
                          </ul>
                        </div>
                      </th>
                      <td>{{fullName}}</td>
                      <td>{{contactEmail}}</td>
                      <td>
                        <button type="button" class="btn btn-secondary showResultButton" id={{_id}} data-toggle="modal" data-target="#studentAnswerModal">
                          Show Results
                        </button>
                      </td>
                    </tr>
                  {{/each}}
                </tbody>
              </table>
                <button class="btn mx-auto d-block nextButton">Confirm</button>
            </div>

          </span>
        </div>
      </div>
    </div>
  </div>

</template>